import {
  soapRequest
} from './api-helper';

import {
  IsUseWas
} from '../config/app-config';

export const Const = {
  InWs: "InThp1Photo1",
  FieldHsc: "Hp1HscNo",
  OutWs: "OutThp1Photo1",
  FieldPhoto: "Hp1Photo"
}

export const PhotoDefault = {
  Female: `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`,
  Male: `/9j/4AAQSkZJRgABAQEASABIAAD/4Qm+aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+IDxkYzpjcmVhdG9yPiA8cmRmOlNlcT4gPHJkZjpsaT5WZWN0b3JTdG9jay5jb20vMTczMTc3MzA8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2RjOmNyZWF0b3I+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAD6AO4DAREAAhEBAxEB/8QAHAABAAEFAQEAAAAAAAAAAAAAAAYBAwQF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`,
}

export function hexToBase64(hexstring) {
  return btoa(hexstring.match(/\w{2}/g).map(function (a) {
    return String.fromCharCode(parseInt(a, 16));
  }).join(""));
}

export function loadPhotoByKpt(kptNo, success, error) {
  var param = {}
  param[Const.InWs] = {};
  param[Const.InWs][Const.FieldHsc] = kptNo;

  soapRequest({
    webService: IsUseWas || true ?
      //"IPHOTO/I_PHOTO" : "SoapSaaPhoto",
      "IPHOTO/THPX" : "SoapSaaPhoto",
    method: "Thpx",
    param: param,
    responseEntity: [Const.OutWs],
    success: (data) => {
      if (success) {
        try {
          var photoRaw = data[Const.OutWs][0][Const.FieldPhoto];
          if (photoRaw == "" || photoRaw == null || typeof photoRaw === "undefined") {
            error("Data From DB Not Found");
          } else {
            // guna BLOB trus dia hantar in base64
            //var photo64 = hexToBase64(photoRaw);
            var photo64 = photoRaw;
            //console.log("success 2 loadPhotoByKpt -> photo64", photo64.length)
            success(photo64);
          }
        } catch (err) {
          console.error(err);
          error(err);
        }
      }
    },
    error: err => {
      if (error) {
        error(err);
      }
    }
  });
}
